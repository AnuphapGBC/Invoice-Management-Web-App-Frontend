{"ast":null,"code":"var _jsxFileName = \"/Users/bng-anuphap_c/Projects/Invoice Management/frontend/src/components/PrivateRoute.jsx\";\nimport React, { useContext } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { UserContext } from '../context/UserContext';\nconst PrivateRoute = ({\n  allowedRoles,\n  children\n}) => {\n  const {\n    user\n  } = useContext(UserContext);\n  if (!user) {\n    // User not logged in, redirect to login page\n    return /*#__PURE__*/React.createElement(Navigate, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 12\n      }\n    });\n  }\n  if (allowedRoles && !allowedRoles.includes(user.role)) {\n    // User does not have permission, redirect to login page\n    return /*#__PURE__*/React.createElement(Navigate, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 12\n      }\n    });\n  }\n\n  // User is authenticated and has the correct role, render the children\n  return children;\n};\nexport default PrivateRoute;","map":{"version":3,"names":["React","useContext","Navigate","UserContext","PrivateRoute","allowedRoles","children","user","createElement","to","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","includes","role"],"sources":["/Users/bng-anuphap_c/Projects/Invoice Management/frontend/src/components/PrivateRoute.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { UserContext } from '../context/UserContext';\n\nconst PrivateRoute = ({ allowedRoles, children }) => {\n  const { user } = useContext(UserContext);\n\n  if (!user) {\n    // User not logged in, redirect to login page\n    return <Navigate to=\"/\" />;\n  }\n\n  if (allowedRoles && !allowedRoles.includes(user.role)) {\n    // User does not have permission, redirect to login page\n    return <Navigate to=\"/\" />;\n  }\n\n  // User is authenticated and has the correct role, render the children\n  return children;\n};\n\nexport default PrivateRoute;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,WAAW,QAAQ,wBAAwB;AAEpD,MAAMC,YAAY,GAAGA,CAAC;EAAEC,YAAY;EAAEC;AAAS,CAAC,KAAK;EACnD,MAAM;IAAEC;EAAK,CAAC,GAAGN,UAAU,CAACE,WAAW,CAAC;EAExC,IAAI,CAACI,IAAI,EAAE;IACT;IACA,oBAAOP,KAAA,CAAAQ,aAAA,CAACN,QAAQ;MAACO,EAAE,EAAC,GAAG;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC;EAC5B;EAEA,IAAIV,YAAY,IAAI,CAACA,YAAY,CAACW,QAAQ,CAACT,IAAI,CAACU,IAAI,CAAC,EAAE;IACrD;IACA,oBAAOjB,KAAA,CAAAQ,aAAA,CAACN,QAAQ;MAACO,EAAE,EAAC,GAAG;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC;EAC5B;;EAEA;EACA,OAAOT,QAAQ;AACjB,CAAC;AAED,eAAeF,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module"}